# 사주 궁합 계산 로직 설명

## 계산 과정

### 1. 입력 데이터 수집
- **이름**: 한글만 입력 (예: "김철수", "이영희")
- **생년월일**: YYYY-MM-DD 형식 (예: "1990-01-15")
- **생시**: HH:MM 형식 (예: "14:30")
- **성별**: "남" 또는 "여"

### 2. 사주(四柱) 계산

#### 년주 (年柱)
- 양력 년도를 간지로 변환
- 예: 1990년 → 경오년 (갑자년 기준으로 계산)

#### 월주 (月柱)
- 월의 지지 + 년간에 따른 월간 계산
- 예: 1월 → 인월 (간지 계산)

#### 일주 (日柱)
- 1900년 1월 1일 기준으로 일수 차이 계산
- 예: 1990-01-15 → 특정 간지

#### 시주 (時柱)
- 생시를 12지지로 변환
- 일간에 따른 시간 간지 계산
- 예: 14시 → 오시

### 3. 살(煞) 분석

두 사주 간의 충돌 요소를 계산:

- **충살**: 자-오, 축-미 등 반대 관계
- **형살**: 형벌 관계 (자-묘, 축-진-술-미 등)
- **파살**: 파괴 관계
- **해살**: 해로움 관계

각 살당 -10점씩 감점

### 4. 오행(五行) 분석

- **상생 관계**: 목→화→토→금→수 (가점)
- **상극 관계**: 목→토, 화→금, 토→수, 금→목, 수→화 (감점)

### 5. 추가 요소

- **성별 조합**: 이성 조합 +5점
- **음양 조화**: 일간의 음양과 성별 조화 +3점씩
- **이름 오행**: 이름의 오행이 상생이면 +3점, 상극이면 -2점
- **이름 획수**: 획수 차이가 적으면 +2점

### 6. 최종 점수 계산

```
기본 점수: 100점
- 살 요소 감점 (각 살당 -10점)
- 오행 상극 감점 (각 -2점)
+ 오행 상생 가점 (각 +1점, 최대 +10점)
+ 성별 조합 가점 (+5점)
+ 음양 조화 가점 (각 +3점)
+ 이름 오행 상생 가점 (+3점)
- 이름 오행 상극 감점 (-2점)
+ 이름 획수 조화 가점 (+2점)
= 최종 점수 (0-100점)
```

## 실제 계산 예시

**입력:**
- 이용자1: 김철수, 1990-01-15, 14:30, 남
- 이용자2: 이영희, 1992-05-20, 10:00, 여

**계산 과정:**
1. 사주 계산
   - 이용자1: 경오년 인월 XX일 오시
   - 이용자2: 임신년 사월 XX일 사시

2. 살 분석
   - 충살, 형살 등 계산

3. 오행 분석
   - 상생/상극 관계 계산

4. 점수 계산
   - 기본 100점에서 살, 오행, 성별, 이름 등을 반영

**결과:**
- 궁합 점수 (0-100점)
- 사주 정보 (간지 표기)
- 감점 요소 (살 분석)
- 해석 텍스트

## 계산이 제대로 되는지 확인 방법

1. 브라우저 개발자 도구 콘솔 확인
   - 로딩 화면에서 계산 결과가 콘솔에 출력됨
   - `console.log('사주 계산 결과:', ...)`

2. 결과 화면에서 확인
   - 사주 정보가 간지로 표시되는지 확인
   - 점수가 0-100 사이인지 확인
   - 살 요소가 그래프에 표시되는지 확인

3. 테스트 케이스
   - 같은 생년월일: 점수가 높게 나올 가능성
   - 다른 생년월일: 점수에 차이가 있을 수 있음

